<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ER Endings Game</title>

  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#ff4fd8">

  <style>
    body{
      font-family: Arial, sans-serif;
      max-width: 560px;
      margin: 0 auto;
      padding: 14px;
      background: linear-gradient(135deg,#ff4fd8,#7c5cff,#2ee9ff,#7dff6a);
      background-size:300% 300%;
      animation:bg 10s ease infinite;
    }
    @keyframes bg{
      0%{background-position:0% 50%}
      50%{background-position:100% 50%}
      100%{background-position:0% 50%}
    }
    .card{
      background:white;
      border-radius:18px;
      padding:16px;
      box-shadow:0 12px 30px rgba(0,0,0,.2);
    }
    h1{margin:0}
    .q{font-size:24px;margin:14px 0;font-weight:bold}
    button{
      width:100%;
      padding:16px;
      margin:8px 0;
      font-size:22px;
      border-radius:18px;
      border:none;
      font-weight:bold;
    }
    .new{background:#111;color:white}
    .a{background:#ff9a3c}
    .b{background:#7c5cff;color:white}
    .msg{min-height:28px;font-size:18px;font-weight:bold}
  </style>
</head>

<body>
  <div class="card">
    <h1>ðŸŒˆ ER Endings Game</h1>
    <p>Rule: remove <b>-er</b>, add <b>e es e ons ez ent</b></p>

    <div class="q" id="q">Tap NEW to start</div>

    <button class="new" onclick="newQ()">NEW</button>
    <button class="a" id="a" onclick="pick('a')">â€”</button>
    <button class="b" id="b" onclick="pick('b')">â€”</button>

    <div class="msg" id="msg"></div>
  </div>

<script>
  const data=[["je","e"],["tu","es"],["il/elle","e"],["nous","ons"],["vous","ez"],["ils/elles","ent"]];
  const ends=["e","es","ons","ez","ent"];
  let correct="",locked=true;

  function r(a){return a[Math.floor(Math.random()*a.length)]}

  function newQ(){
    locked=false;
    msg.textContent="";
    const [p,e]=r(data);
    correct=e;
    q.textContent=`What ending for â€œ${p}â€?`;
    let w=r(ends.filter(x=>x!==e));
    Math.random()<.5?(a.textContent=e,b.textContent=w):(a.textContent=w,b.textContent=e);
  }

  function pick(id){
    if(locked) return;
    locked=true;
    if(document.getElementById(id).textContent===correct){
      msg.textContent="âœ… YES!";
    } else {
      msg.textContent="âŒ Itâ€™s "+correct;
    }
  }

  if("serviceWorker" in navigator){
    navigator.serviceWorker.register("service-worker.js");
  }
</script>
</body>
</html>
